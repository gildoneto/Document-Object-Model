# Nodes

## O que √© um Node?

Podemos ter diversas coisas no DOM `<p> <h1> <div> comentarios texto etc...`
Chamamos estas coisas de Nodes. E temos tipos diferentes de Node.
Todo e qualquer item na √°rvore DOM √© um Node.
O documento HTML √© formado por uma √°rvore de n√≥s(Nodes) HTML.
Cada Node pode ter **atributos HTML**.
Nodes tamb√©m podem ter conte√∫do, inclu√≠do outros nodes e texto.
A maioria dos nodes tem um prop√≥sito espec√≠fico. Ex.: `<title>`

Exatamente tudo √© um Node:

1. o documento inteiro
2. cada elemento HTML
3. o texto dentro dos elementos HTML
4. todos os coment√°rios
5. e outras coisas tamb√©m s√£o nodes como o `<!DOCTYPE>` etc...

### Por que esses elementos `#text` se infiltraram no DOM?

```HTML
<head> <!-- um return, um newline character -->
<!-- um space -->  <title>O que s√£o Nodes?</title> <!-- um return -->
</head>

```

`HTML` -> Node HTML
`HEAD` -> Node de elemento Head
`#text` -> Node de texto(return, e um space `"\n "`)
`TITLE` -> Node de elemento Title
`#text` O que s√£o Nodes? -> Node de texto ("O que s√£o Nodes?")
`#text` -> Node de texto (return)

Qualquer caractere newline ou space s√£o v√°lidos (assim como letras e n√∫meros)
ent√£o eles tem que fazer parte do DOM.

#### Duas exce√ß√µes

1. Spaces e Newlines acima do elemento `<head>` s√£o ignorados.
2. Spaces e Newlines abaixo do elemento `</body>` s√£o removidos e colocados dentro do elemento `<body>`.

## childNodes

## Tipos de Node

Existem poucos tipos de Node ativos(ou relevantes).
O mais comum e intuitivo √© o `ELEMENT_NODE`.

###### O 4 tipos mais comuns que iremos lidar s√£o:

1. `DOCUMENT_NODE` -> Nosso entry point para o DOM
2. `ELEMENT_NODE` -> as tags HTML
3. `TEXT_NODE` -> os textos entre as tags
4. `COMMENT_NODE` -> os coment√°rios

| Constant                        | Value | Description                                                                                                                                                 |
| ------------------------------- | ----- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ELEMENT_NODE**                | 1     | O mais simples. √â apenas um Element Node como `<p>` ou `<h1>`                                                                                               |
| **TEXT_NODE**                   | 3     | O texto de fato                                                                                                                                             |
| **CDATA_SECTION_NODE**          | 4     | Estes s√£o caracteres de dados que n√£o s√£o analisados pelo parser.                                                                                           |
| **PROCESSING_INSTRUCTION_NODE** | 7     | Usado com XML para introjetar instru√ß√µes espec√≠ficas da aplica√ß√£o.                                                                                          |
| **COMMENT_NODE**                | 8     | Apenas um coment√°rio como: `<!-- comment -->`                                                                                                               |
| **DOCUMENT_NODE**               | 9     | Nosso Document Node ra√≠z                                                                                                                                    |
| **DOCUMENT_TYPE_NODE**          | 10    | Nossa declara√ß√£o `<!DOCTYPE html>`                                                                                                                          |
| **DOCUMENT_FRAGMENT_NODE**      | 11    | Um DocumentFragment Node √© um objeto document super leve. As vezes voc√™ poder√° querer extrair uma por√ß√£o da √Årvore de Documentos e criar um novo fragmento. |

#### Revis√£o

Vimos que existem diferentes tipos de Node.
Mas como iremos saber a qualquer momento com qual tipo de Node estamos lidando?

**F√ÅCIL**

Todos os Nodes tem as propriedades `nodeType`, `nodeName` e `nodeValue`.
Antes de colocarmos isso em pr√°tica, precisamos entender a din√¢mica familiar dos nodes.

## Node - Family Tree

```HTML
<body> <!--grandparent-->
  <div> <!--parent and child of body-->
    <h1> Hello </h1> <!--simblings--> <!--child of div-->
    <h2> World </h2> <!--simblings-->
  </div>
</body>
```

Na vida real temos os pais (parents) e os filhos (children). E os pais (parents) tamb√©m tem seus pais (parents).
E assim como a vida real, o DOM e os Nodes tem seus parents, children e simblings.

## nodeName vs tagName

#### First things first, what is `nodeName`?

Atrav√©s do `nodeName`, voc√™ pode acessar o nome do element ou tag que voc√™ est√° manipulando. Voc√™ pode simplesmente dar um console.log no `nodeName`.

Como neste exemplo:

```node
> $0.nodeName;
<- "H1"

```

Embora haja apenas um n√∫mero distinto de tipos de Nodes (lembre-se, n√≥s abordamos isso em uma aula anterior. Existem Nodes de texto, Nodes de coment√°rio, Nodes de elemento, etc.), o Node **NAMES** lhe dir√° com qual elemento ou Node de tag voc√™ est√° lidando. Isso significa que para um elemento `<p>`, a propriedade `nodeName` retornar√° ‚ÄúP‚Äù. E para um elemento `<div>`, o `nodeName` retornado corretamente ser√° ‚ÄúDIV‚Äù e assim por diante.

O `nodeName` √© uma propriedade somente leitura dos Nodes do DOM. O valor retornado √© sempre uma string MAI√öSCULA que representa o tipo de elemento.

Como uma nota lateral, o valor `nodeName` n√£o fornece absolutamente nenhuma outra informa√ß√£o (por exemplo, voc√™ n√£o pode descobrir nenhum atributo), ent√£o seu uso √© limitado, eu acho.

#### Mas espera um pouco, isso n√£o √© a mesma coisa que a propriedade `tagName`?

Meio que sim.

Outra propriedade que voc√™ pode acessar que lhe dar√° a mesma resposta √© `tagName`. E da mesma forma que `nodeName`, `tagName` retornar√° o resultado em letras MAI√öSCULAS.

Ent√£o eles parecem iguais, da seguinte forma:

```node
> $0.nodeName;
<- "P"
> $0.tagName;
<- "P"

```

#### Ent√£o, isso significa que `nodeName` e `tagName` s√£o a mesma coisa?

N√£o. Eles s√£o diferentes.

A propriedade `tagName` destina-se especificamente a Nodes de elemento (lembre-se de que estes s√£o Nodes do TIPO 1) para obter o tipo de elemento. Mas como voc√™ j√° sabe, existem v√°rios outros TIPOS de n√≥s (como Nodes de coment√°rio, Nodes de texto, etc). Para obter o nome desses Nodes, voc√™ n√£o pode usar `tagName`.

Aqui est√° a prova de que voc√™ n√£o pode usar `tagName` em um coment√°rio, por exemplo:

```node
> $0.nodeName;
<- "#comment"
> $0.tagName;
<- undefined

```

Ent√£o, ao lidar com Elementos, qual voc√™ deve usar ‚Äì `nodeName` ou `tagName`?

Boa pergunta meu querido aluno üòâ

Isso realmente n√£o importa, eu acho. Como acabamos de ver, ao usar `nodeName` em um n√≥ de elemento, voc√™ obter√° seu nome de tag, ent√£o qualquer um deles pode ser usado.

No entanto, se uma arma estivesse apontada para a minha cabe√ßa e eu tivesse que escolher uma em vez da outra, eu provavelmente iria com `nodeName` . Isso provavelmente nos dar√° uma melhor consist√™ncia entre os navegadores.

#### Recapitulando

```javascript
document.getElementById(); // retorna um objeto do elemento
document.getElementsByClassName(); // retorna uma HTMLCollection
document.getElementsByTagName(); // retorna uma HTMLCollection
document.querySelector(); // retorna um objeto do elemento
document.querySelectorAll(); // retorna uma NodeList
```

###### NodeList vs HTMLCollection

NodeList e HTMLCollection s√£o cole√ß√µes de Nodes do DOM.
Uma NodeList pode conter qualquer tipo de Node(text, comment, element, etc)
Uma HTMLCollection cont√©m apenas elementos Node.

**HTMLCollection** podem ser acessadas pelo nome, id ou index.
**NodeList** podem ser acessadas somente pelo index.

> HTMLCollections s√£o _live_, e items de uma NodeList s√£o _est√°ticos_
